// Generated by delombok at Thu Nov 14 21:27:17 PST 2024
package exchange.core2.core.processors;

import com.lmax.disruptor.EventHandler;
import exchange.core2.core.common.cmd.OrderCommand;
import exchange.core2.core.common.cmd.OrderCommandType;
import java.util.function.ObjLongConsumer;

public final class ResultsHandler implements EventHandler<OrderCommand> {
    private final ObjLongConsumer<OrderCommand> resultsConsumer;
    private boolean processingEnabled = true;

    @Override
    public void onEvent(OrderCommand cmd, long sequence, boolean endOfBatch) {
        if (cmd.command == OrderCommandType.GROUPING_CONTROL) {
            processingEnabled = cmd.orderId == 1;
        }
        if (processingEnabled) {
            resultsConsumer.accept(cmd, sequence);
        }
    }

    @java.lang.SuppressWarnings("all")
    public ResultsHandler(final ObjLongConsumer<OrderCommand> resultsConsumer) {
        this.resultsConsumer = resultsConsumer;
    }
}
